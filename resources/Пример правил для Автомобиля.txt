# ФАЙЛ ПРАВИЛ ЭКСПЕРТНОЙ СИСТЕМЫ ДЛЯ ДИАГНОСТИКИ АВТОМОБИЛЯ
# Автор: Иван Петров
# Дата создания: 2024-01-15
# Источник: База знаний сервисного центра "АвтоДоктор"


## РАЗДЕЛ 1: ДИАГНОСТИКА ДВИГАТЕЛЯ

ПРАВИЛО ДВ-01: Если температура двигателя больше 100 градусов и давление масла меньше 2 атмосфер, то необходимо проверить систему охлаждения и заменить масло.
Приоритет: высокий (9)
Источник: мануал по ремонту, глава 3.2

ПРАВИЛО ДВ-02: Когда обороты двигателя нестабильны на холостом ходу и есть пропуски зажигания, то следует почистить форсунки и проверить свечи зажигания.
Приоритет: средний (6)
Источник: опыт мастера Сергеева

ПРАВИЛО ДВ-03: При наличии синего дыма из выхлопной трубы и повышенном расходе масла более 1 литра на 1000 км, вероятен износ поршневых колец.
Приоритет: высокий (8)

## РАЗДЕЛ 2: ТРАНСМИССИЯ И СЦЕПЛЕНИЕ

ПРАВИЛО ТР-01: Если при переключении передач слышен скрежет и автомобиль дергается, то необходимо проверить сцепление и синхронизаторы коробки передач.
Условия: пробег > 100000 км, возраст автомобиля > 5 лет
Действие: рекомендовать диагностику КПП
Приоритет: 7

ПРАВИЛО ТР-02: Когда есть вибрация на скорости выше 80 км/ч и шум из области коробки передач, тогда нужно проверить карданный вал и опоры.
Источник: технический бюллетень №45

## РАЗДЕЛ 3: ТОРМОЗНАЯ СИСТЕМА

ПРАВИЛО ТС-01: Если педаль тормоза проваливается и тормозная жидкость ниже минимальной отметки, то возможна утечка в тормозной системе.
Действия: 
1. Проверить уровень тормозной жидкости
2. Осмотреть тормозные шланги на предмет течи
3. Провести диагностику тормозных цилиндров
Приоритет: критический (10)

ПРАВИЛО ТС-02: При наличии скрипа при торможении и уменьшении толщины тормозных колодок менее 3 мм требуется замена тормозных колодок.
Условия: пробег после последней замены > 30000 км
Приоритет: 8

## РАЗДЕЛ 4: ЭЛЕКТРООБОРУДОВАНИЕ

ПРАВИЛО ЭЛ-01: Если аккумулятор разряжается за ночь и напряжение на клеммах менее 12В при заглушенном двигателе, то есть утечка тока.
Диагностика: измерение тока утечки должно быть больше 50 мА
Решение: найти и устранить причину утечки
Приоритет: 7

ПРАВИЛО ЭЛ-02: Когда фары горят тускло и генератор выдает напряжение меньше 13.5В, необходимо проверить ремень генератора и щетки.
Приоритет: средний (6)

## РАЗДЕЛ 5: ПОДВЕСКА И РУЛЕВОЕ УПРАВЛЕНИЕ

ПРАВИЛО ПР-01: Если при повороте руля слышен стук и есть люфт в рулевом колесе, то изношены рулевые наконечники или тяги.
Условия: пробег > 80000 км, дороги плохого качества
Действие: заменить рулевые наконечники
Приоритет: 8

ПРАВИЛО ПР-02: Когда автомобиль тянет в сторону при движении прямо и наблюдается неравномерный износ шин, требуется развал-схождение.
Приоритет: 7

## РАЗДЕЛ 6: ОБЩИЕ ПРАВИЛА И ФАКТЫ

ФАКТ Ф-01: Нормальная температура двигателя: 85-95 градусов Цельсия.
Источник: технические характеристики автомобиля

ФАКТ Ф-02: Нормальное давление масла: 2-4 атмосферы на холостых оборотах.
Тип: техническая спецификация

ФАКТ Ф-03: Допустимый расход масла: не более 0.5 литра на 1000 км для бензиновых двигателей.
Категория: норма эксплуатации

ФАКТ Ф-04: Минимальная толщина тормозных колодок: 3 мм по рекомендации производителя.
Важность: критическая

## РАЗДЕЛ 7: КОМБИНИРОВАННЫЕ ПРАВИЛА

ПРАВИЛО К-01: Если двигатель не заводится утром и аккумулятор заряжен, а стартер не крутит, проверить соединения массы и контакты стартера.
Логика: И (аккумулятор_заряжен = истина, стартер_не_крутит = истина)
Результат: неисправность_электрики = истина
Приоритет: 9

ПРАВИЛО К-02: Когда есть повышенный расход топлива и потеря мощности, и свечи зажигания черные, необходимо заменить воздушный фильтр и проверить датчик кислорода.
Условия: 
- расход_топлива > нормы на 15%
- мощность < паспортной на 10%
- цвет_свечей = "черный"
Действия:
1. Заменить воздушный фильтр
2. Проверить датчик кислорода
3. Очистить форсунки
Приоритет: 8

ПРАВИЛО К-03: Если кондиционер не холодит и компрессор не включается, при этом давление фреона в норме, возможна неисправность электромагнитной муфты.
Диагностический код: AC_ERROR_03
Решение: диагностика системы кондиционирования
Приоритет: 6

## РАЗДЕЛ 8: ПРАВИЛА С РАЗНЫМИ ОПЕРАТОРАМИ

ПРАВИЛО ОП-01: Если пробег автомобила больше 150000 км ИЛИ возраст более 10 лет, то рекомендовать комплексную диагностику.
Приоритет: профилактический (5)

ПРАВИЛО ОП-02: Когда уровень масла меньше минимума И температура двигателя выше нормы, тогда остановить двигатель немедленно.
Критичность: высокая (10)

ПРАВИЛО ОП-03: Если давление в шинах меньше 2 атмосфер ИЛИ больше 3 атмосфер, необходимо отрегулировать давление.
Норма: 2.2-2.5 атмосферы
Приоритет: 6

## РАЗДЕЛ 9: БИЗНЕС-ПРАВИЛА ДЛЯ СЕРВИСА

ПРАВИЛО Б-01: Если стоимость ремонта превышает 50% от стоимости автомобиля и возраст авто больше 8 лет, рекомендовать не производить ремонт.
Бизнес-логика: экономическая целесообразность
Приоритет: 7

ПРАВИЛО Б-02: Когда клиент постоянный (более 3 посещений) и сумма чека больше 20000 рублей, предоставить скидку 10%.
Категория: маркетинг
Приоритет: 5

ПРАВИЛО Б-03: Если деталь есть на складе и время ремонта меньше 1 дня, предложить срочный ремонт.
Условия: наличие_детали = да, время_ремонта < 24 часа
Действие: тип_ремонта = "срочный"
Приоритет: 6

## РАЗДЕЛ 10: СЛОЖНЫЕ ЛОГИЧЕСКИЕ ВЫРАЖЕНИЯ

ПРАВИЛО СЛ-01: Если (температура двигателя > 100 И давление масла < 2) ИЛИ (уровень антифриза < минимума), тогда сигнализировать о перегреве.
Действия: 
- включить_аварийную_сигнализацию
- отправить_уведомление_водителю
- записать_в_журнал_ошибок
Приоритет: критический (10)

ПРАВИЛО СЛ-02: Когда пробег > 15000 км И НЕ была замена масла, И возраст масла > 1 года, тогда обязательно заменить масло и фильтр.
Логическое выражение: пробег_после_замены > 15000 И масло_не_менялось = истина И время_с_замены > 365 дней
Приоритет: 9

## РАЗДЕЛ 11: ФАКТЫ О ТЕХНИЧЕСКИХ ХАРАКТЕРИСТИКАХ

ФАКТ ТХ-01: Марка автомобиля: Toyota Camry
ФАКТ ТХ-02: Год выпуска: 2018
ФАКТ ТХ-03: Объем двигателя: 2.5 литра
ФАКТ ТХ-04: Тип топлива: бензин АИ-95
ФАКТ ТХ-05: Коробка передач: автоматическая
ФАКТ ТХ-06: Пробег: 75000 км
ФАКТ ТХ-07: Дата последнего ТО: 2023-11-15

ФАКТ ТХ-08: Нормальный расход топлива в городе: 10-12 литров на 100 км
ФАКТ ТХ-09: Нормальный расход топлива на трассе: 7-8 литров на 100 км
ФАКТ ТХ-10: Мощность двигателя: 181 л.с.
ФАКТ ТХ-11: Крутящий момент: 231 Нм

## РАЗДЕЛ 12: ПРАВИЛА ДИАГНОСТИКИ ПО КОДАМ ОШИБОК

ПРАВИЛО КО-01: Если диагностический сканер показывает код ошибки P0300 (пропуски зажигания), проверить: свечи зажигания, катушки зажигания, форсунки.
Процедура диагностики:
1. Считать коды ошибок
2. Проверить компрессию в цилиндрах
3. Осмотреть свечи зажигания
4. Проверить катушки зажигания
Приоритет: 8

ПРАВИЛО КО-02: Когда есть код P0420 (эффективность катализатора ниже threshold), необходимо проверить каталитический нейтрализатор и датчики кислорода.
Условия: пробег > 100000 км, использование некачественного топлива
Решение: замена катализатора или установка пламегасителя
Приоритет: 7

ПРАВИЛО КО-03: При появлении кода P0171 (бедная смесь) и P0174 (бедная смесь в обоих банках), проверить: датчик массового расхода воздуха, вакуумные утечки, давление топлива.
Диагностическая последовательность:
- Проверить ДМРВ
- Искать вакуумные утечки
- Измерить давление топлива
- Проверить регулятор давления топлива
Приоритет: 8

## РАЗДЕЛ 13: ПРАВИЛА С РАЗНЫМИ ФОРМАТАМИ

ФОРМАТ 1: ЕСЛИ <условие> ТО <действие>
ЕСЛИ уровень тормозной жидкости снижается быстро ТО есть утечка в системе

ФОРМАТ 2: ПРИ <условие>, <действие>
ПРИ износе протектора шин менее 2 мм, требуется замена шин

ФОРМАТ 3: <действие> ЕСЛИ <условие>
Выполнить замену ремня ГРМ ЕСЛИ пробег превысил 90000 км

ФОРМАТ 4: В СЛУЧАЕ <условие> СЛЕДУЕТ <действие>
В СЛУЧАЕ перегрева двигателя СЛЕДУЕТ остановить автомобиль

ФОРМАТ 5: <условие> → <действие>
Напряжение аккумулятора < 11.8В → зарядить аккумулятор

ФОРМАТ 6: ЕСЛИ <условие1> И <условие2> ТОГДА <действие>
ЕСЛИ есть вибрация на руле И скорость > 60 км/ч ТОГДА провести балансировку колес

## РАЗДЕЛ 14: КОНФЛИКТНЫЕ И СХОЖИЕ ПРАВИЛА (ДЛЯ ТЕСТИРОВАНИЯ ТРАССИРОВКИ)

ПРАВИЛО КОНФ-01: Если температура двигателя выше 100°C, уменьшить нагрузку на двигатель.
Приоритет: 7

ПРАВИЛО КОНФ-02: Если температура двигателя выше 100°C, продолжить движение до ближайшего сервиса.
Приоритет: 5
# КОНФЛИКТ: разные действия при одинаковом условии

ПРАВИЛО СХ-01: Когда уровень масла ниже минимального, залить масло до нормы.
Приоритет: 8
Источник: руководство по эксплуатации

ПРАВИЛО СХ-02: Если уровень моторного масла меньше минимума, долить масло.
Приоритет: 8
Источник: технический мануал
# СХОЖИЕ: одинаковые правила с разными формулировками

## РАЗДЕЛ 15: ПРИМЕРЫ ДЛЯ ОБРАТНОГО ВЫВОДА

ЦЕЛЬ-01: Определить причину повышенного расхода топлива.
Возможные причины:
1. Загрязнен воздушный фильтр
2. Неисправны форсунки
3. Неправильные углы опережения зажигания
4. Низкое давление в шинах
5. Износ цилиндропоршневой группы

ЦЕЛЬ-02: Установить источник стука в подвеске.
Проверяемые элементы:
- Сайлентблоки
- Шаровые опоры
- Стойки стабилизатора
- Амортизаторы
- Рулевые наконечники

## РАЗДЕЛ 16: МЕТАДАННЫЕ И КОММЕНТАРИИ

# Этот файл используется для тестирования NLP-анализатора экспертной системы
# Форматы правил разнообразны для проверки извлечения различных паттернов
# Приоритеты правил указаны в скобках или текстово
# Источники знаний: мануалы, опыт экспертов, технические бюллетени

# ВАЖНО: Некоторые правила конфликтуют специально для тестирования системы трассировки
# Схожие правила добавлены для проверки обнаружения дубликатов

# Конец файла правил